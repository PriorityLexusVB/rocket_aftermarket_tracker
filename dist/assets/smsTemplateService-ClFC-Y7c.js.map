{"version":3,"file":"smsTemplateService-ClFC-Y7c.js","sources":["../../src/services/smsTemplateService.js"],"sourcesContent":["import { supabase } from '@/lib/supabase'\r\nimport { safeSelect } from '@/lib/supabase/safeSelect'\r\nimport { toOptions } from '@/lib/options'\r\n\r\nexport async function listSmsTemplatesByOrg(orgId, { activeOnly = true } = {}) {\r\n  let q = supabase.from('sms_templates').select('*').order('created_at', { ascending: true })\r\n  if (activeOnly) q = q.eq('is_active', true)\r\n  if (orgId) q = q.or(`org_id.eq.${orgId},org_id.is.null`)\r\n  const rows = await safeSelect(q, 'sms_templates:listByOrg')\r\n  return toOptions(rows, { labelKey: 'name', valueKey: 'id' })\r\n}\r\n\r\nexport async function listSmsTemplatesGlobal({ activeOnly = true } = {}) {\r\n  let q = supabase.from('sms_templates').select('*').order('created_at', { ascending: true })\r\n  if (activeOnly) q = q.eq('is_active', true)\r\n  // global: no org filter\r\n  const rows = await safeSelect(q, 'sms_templates:listGlobal')\r\n  return toOptions(rows, { labelKey: 'name', valueKey: 'id' })\r\n}\r\n\r\nexport default { listSmsTemplatesByOrg, listSmsTemplatesGlobal }\r\n"],"names":["listSmsTemplatesByOrg","orgId","activeOnly","q","supabase","rows","safeSelect","toOptions","listSmsTemplatesGlobal"],"mappings":"yFAIO,eAAeA,EAAsBC,EAAO,CAAE,WAAAC,EAAa,EAAI,EAAK,CAAA,EAAI,CAC7E,IAAIC,EAAIC,EAAS,KAAK,eAAe,EAAE,OAAO,GAAG,EAAE,MAAM,aAAc,CAAE,UAAW,EAAI,CAAE,EACtFF,IAAYC,EAAIA,EAAE,GAAG,YAAa,EAAI,GACtCF,IAAOE,EAAIA,EAAE,GAAG,aAAaF,CAAK,iBAAiB,GACvD,MAAMI,EAAO,MAAMC,EAAWH,EAAG,yBAAyB,EAC1D,OAAOI,EAAUF,EAAM,CAAE,SAAU,OAAQ,SAAU,KAAM,CAC7D,CAEO,eAAeG,EAAuB,CAAE,WAAAN,EAAa,EAAI,EAAK,CAAA,EAAI,CACvE,IAAIC,EAAIC,EAAS,KAAK,eAAe,EAAE,OAAO,GAAG,EAAE,MAAM,aAAc,CAAE,UAAW,EAAI,CAAE,EACtFF,IAAYC,EAAIA,EAAE,GAAG,YAAa,EAAI,GAE1C,MAAME,EAAO,MAAMC,EAAWH,EAAG,0BAA0B,EAC3D,OAAOI,EAAUF,EAAM,CAAE,SAAU,OAAQ,SAAU,KAAM,CAC7D"}